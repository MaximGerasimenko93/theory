#flashcards
Data: 2023-02-03 23:31
Title: [[Взаимодействие GC с методом finalize()]]
Alias:
Header:




Body:



Как взаимодействует сборщик мусора с методом `finalize()`?
!---
Ответ:
	- Непосредственно вызов `finalize()` происходит в отдельном потоке _Finalizer_ (`java.lang.ref.Finalizer.FinalizerThread`), который создаётся при запуске виртуальной машины (в статической секции при загрузке класса `Finalizer`).
	- Методы `finalize()` вызываются последовательно в том порядке, в котором были добавлены в список сборщиком мусора.
	- Соответственно, если какой-то `finalize()` зависнет, он подвесит поток _Finalizer_, но не сборщик мусора. Это в частности означает, что объекты, не имеющие метода `finalize()`, будут исправно удаляться, а вот имеющие будут добавляться в очередь, пока поток _Finalizer_ не освободится, не завершится приложение или не кончится память.
	- То же самое применимо и выброшенным в процессе `finalize()` исключениям:
			- метод `runFinalizer()` у потока _Finalizer_ игнорирует все исключения выброшенные в момент выполнения `finalize()`. Таким образом возникновение исключительной ситуации никак не скажется на работоспособности сборщика мусора.
<!--SR:!2023-11-03,10,490-->




Главы:
-


Sources:
- [ ] [Вопросы для собеседования на Java Developer](https://github.com/enhorse/java-interview/blob/master/README.md#%D0%9E%D0%9E%D0%9F)
- [ ] []()
- [ ] []()
