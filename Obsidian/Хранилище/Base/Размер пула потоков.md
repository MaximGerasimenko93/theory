#flashcards
Data: 2023-08-04 14:39
Title: [[Размер пула потоков]]
Alias:
Header:




Body:



Какой оптимальный размер пула потоков?
!---
Ответ:
	- Оптимальный размер пула потоков зависит от количества доступных процессоров и природы задач в рабочей очереди. На N-процессорной системе для рабочей очереди, которая будет выполнять исключительно задачи с ограничением по скорости вычислений, можно достигнуть максимального использования CPU с пулом потоков, в котором содержится N или N+1 поток.
	- Для задач, которые могут ждать осуществления I/O (ввода - вывода) - например, задачи, считывающей HTTP-запрос из сокета – может понадобиться увеличение размера пула свыше количества доступных процессоров, потому, что не все потоки будут работать все время.
	- Используя профилирование, можно оценить отношение времени ожидания (`WT`) ко времени обработки (`ST`) для типичного запроса.
	- Если назвать это соотношение `WT/ST`, то для N-процессорной системе понадобится примерно `N*(1 + WT/ST)` потоков для полной загруженности процессоров.
<!--SR:!2023-11-03,10,330-->



Что следует учесть при определении размера пула потоков?
!---
Ответ:
	- Настраивая размер пула потоков, важно избежать двух ошибок: слишком мало потоков (очередь на выполнение будет расти, потребляя много памяти) или слишком много потоков (замедление работы всей систему из-за частых переключений контекста).
<!--SR:!2023-11-03,10,330-->



Какие факторы стоит учесть при настройке размера пула потоков?
!---
Ответ:
	- Использование процессора – не единственный фактор, важный при настройке размера пула потоков.
	- По мере возрастания пула потоков, можно столкнуться с ограничениями планировщика, доступной памяти, или других системных ресурсов, таких, как количество сокетов, дескрипторы открытого файла, или каналы связи базы данных.
<!--SR:!2023-11-05,10,390-->


Какой параметр запуска JVM используется для контроля размера стека потока?
!---
Ответ:
	- `-Xss`
<!--SR:!2023-11-03,10,418-->




Главы:
-


Sources:
- [ ] [Вопросы для собеседования на Java Developer](https://github.com/enhorse/java-interview/blob/master/README.md#%D0%9E%D0%9E%D0%9F)
- [ ] []()
- [ ] []()
