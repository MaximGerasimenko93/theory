#flashcards
Data: 2023-08-30 12:28
Title: [[Операции над entity]]
Alias:
Header:




Body:



#Hibernate 
Какие операции проводят над entity?
!---
Ответ:
	- `persist()`
	- `merge()`
	- `detach()`
	- `remove()`
	- `refresh()`
<!--SR:!2023-11-03,10,310-->



#Hibernate 
Как осуществляется операция `persist()` на этапах жизненного цикла entity?
!---
Ответ:
	- new → managed, и объект будет сохранен в базу при commit-е транзакции или в результате flush-операций 
	- managed → операция игнорируется, однако зависимые `Entity` могут поменять статус на managed, если у них есть аннотации каскадных изменений
    - removed → managed
    - detached → exception сразу или на этапе commit-а транзакции
<!--SR:!2023-10-27,1,130-->



#Hibernate 
Как осуществляется операция `remove()` на этапах жизненного цикла entity?
!---
Ответ:
	- - new → операция игнорируется, однако зависимые `Entity` могут поменять статус на removed, если у них есть аннотации каскадных изменений и они имели статус managed
	- managed → removed и запись объект в базе данных будет удалена при commit-е транзакции (также произойдут операции remove для всех каскадно зависимых объектов)  
	- removed → операция игнорируется 
	- detached → exception сразу или на этапе commit-а транзакции,
<!--SR:!2023-10-27,1,130-->



#Hibernate 
Как осуществляется операция `merge()` на этапах жизненного цикла entity?
!---
Ответ:
	- detached → либо данные будут скопированы в существующий managed entity с тем же первичным ключом, либо создан новый managed в который скопируются данные
	- new → будет создана новый managed entity, в который будут скопированы данные прошлого объекта 
	- managed → операция игнорируется, однако операция merge сработает на каскадно зависимые `Entity`, если их статус не managed
	- removed → exception сразу или на этапе commit-а транзакции,
<!--SR:!2023-10-27,1,130-->



#Hibernate 
Как осуществляется операция `refresh()` на этапах жизненного цикла entity?
!---
Ответ:
	- managed → будут восстановлены все изменения из базы данных данного Entity, также произойдет refresh всех каскадно зависимых объектов 
	- new, removed, detached → exception
<!--SR:!2023-10-27,1,130-->



#Hibernate 
Как осуществляется операция `detach()` на этапах жизненного цикла entity?
!---
Ответ:
	- managed, removed → detached.
	- new, detached → операция игнорируется
<!--SR:!2023-10-27,1,130-->



Главы:
-


Sources:
- [ ] [Hibernate вопросы-ответы](https://docs.google.com/document/d/104EUUT-gv7xSalJlJu0DInzlyCVFjC5Sz2gcDoVtfyE/edit)
- [ ] []()
- [ ] []()
