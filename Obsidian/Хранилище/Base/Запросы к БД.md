#flashcards
Data: 2023-07-20 14:35
Title: [[Запросы к БД]]
Alias:
Header:




Body:



#JDBC 
С помощью каких интерфейсов выполняют запросы к базам данных?
!---
Ответ:
	- `java.sql.Statement` - для операторов SQL без параметров
	- `java.sql.PreparedStatement` - для операторов SQL с параметрами и часто выполняемых операторов
	- `java.sql.CallableStatement` - для исполнения хранимых в базе процедур
<!--SR:!2023-11-03,10,350-->



#JDBC 
Как создают объекты-носители интерфейсов
!---
Ответ:
	- Объекты-носители интерфейсов создаются при помощи методов объекта `java.sql.Connection`:
	- 
		- `java.sql.createStatement()` возвращает объект _Statement_;
		- `java.sql.prepareStatement()` возвращает объект _PreparedStatement_;
		- `java.sql.prepareCall()` возвращает объект _CallableStatement_;
<!--SR:!2023-11-03,10,290-->



#JDBC 
Какие методы позволяют осуществить запрос к базе данных?
!---
Ответ:
	- Выполнение запросов осуществляется при помощи вызова методов объекта, реализующего интерфейс `java.sql.Statement`:
	- 
		- **`executeQuery()`** - для запросов, результатом которых является один набор значений, например запросов `SELECT`. Результатом выполнения является объект класса `java.sql.ResultSet`;
		- **`executeUpdate()`** - для выполнения операторов `INSERT`, `UPDATE` или `DELETE`, а также для операторов _DDL (Data Definition Language)_. Метод возвращает целое число, показывающее, сколько записей было модифицировано;
		- **`execute()`** – исполняет SQL-команды, которые могут возвращать различные результаты. Например, может использоваться для операции `CREATE TABLE`. Возвращает `true`, если первый результат содержит _ResultSet_ и `false`, если первый результат - это количество модифицированных записей или результат отсутствует. Чтобы получить первый результат необходимо вызвать метод `getResultSet()` или `getUpdateCount()`. 
		- Остальные результаты доступны через вызов `getMoreResults()`, который при необходимости может быть произведён многократно.
<!--SR:!2023-11-03,10,270-->



#JDBC 
Что хранит в себе объект с интерфейсом `java.sql.ResultSet`?
!---
Ответ:
	- Объект с интерфейсом `java.sql.ResultSet` хранит в себе результат запроса к базе данных - некий набор данных, внутри которого есть курсор, указывающий на один из элементов набора данных - текущую запись.
	- Используя курсор можно перемещаться по набору данных при помощи метода `next()`.
	- Сразу после получения набора данных его курсор находится перед первой записью и чтобы сделать её текущей необходимо вызвать метод `next()`.
	- Содержание полей текущей записи доступно через вызовы методов `getInt()`, `getFloat()`, `getString()`, `getDate()` и им подобных.
<!--SR:!2023-11-03,10,310-->



Главы:
- [[Интерфейс Statement]]
- [[Интерфейс PreparedStatement]]
- [[Закрытие соединения с базой данных]]


Sources:
- [ ] [Вопросы для собеседования на Java Developer](https://github.com/enhorse/java-interview/blob/master/README.md#%D0%9E%D0%9E%D0%9F)
- [ ] []()
- [ ] []()
