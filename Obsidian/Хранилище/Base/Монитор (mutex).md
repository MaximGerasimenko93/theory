#flashcards
Data: 2023-08-03 11:33
Title: [[Монитор (mutex)]]
Alias:
Header:

Что такое [[Монитор (mutex)]]?::[[Монитор (mutex)]] – это средство обеспечения контроля за доступом к ресурсу.
<!--SR:!2023-11-03,10,570-->


Body:

Сколько владельцев может быть у одного монитора?
!---
Ответ:
	- У монитора может быть максимум один владелец в каждый текущий момент времени. 
	- Следовательно, если кто-то использует ресурс и захватил монитор для обеспечения единоличного доступа, то другой, желающий использовать тот же ресурс, должен подождать освобождения монитора, захватить его и только потом начать использовать ресурс.
<!--SR:!2023-11-03,10,461-->



Как удобно представить монитор?
!---
Ответ:
	- Удобно представлять монитор как id захватившего его объекта. Если этот id равен 0 – ресурс свободен. Если не 0 – ресурс занят. Можно встать в очередь и ждать его освобождения.
<!--SR:!2023-11-03,10,421-->


У кого в Java есть монитор?
!---
Ответ:
	- В Java у каждого экземпляра объекта есть монитор, который контролируется непосредственно виртуальной машиной. 
	- Используется он так: любой нестатический `synchronized`-метод при своем вызове прежде всего пытается захватить монитор того объекта, у которого он вызван (на который он может сослаться как на `this`). 
	- Если это удалось – метод исполняется. Если нет – поток останавливается и ждет, пока монитор будет отпущен.
<!--SR:!2023-11-03,10,461-->



Зачем может быть нужен `private` мьютекс?
!---
Ответ:
	- Объект для синхронизации делается `private`, чтобы сторонний код не мог на него синхронизироваться и случайно получить взаимную блокировку.
<!--SR:!2023-10-27,1,130-->




Главы:
-


Sources:
- [ ] [Вопросы для собеседования на Java Developer](https://github.com/enhorse/java-interview/blob/master/README.md#%D0%9E%D0%9E%D0%9F)
- [ ] []()
- [ ] []()
